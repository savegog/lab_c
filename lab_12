#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

int DayOfTheWeek(int year,int mon,int day){
    struct tm t;
    t.tm_year = year-1900;
    t.tm_mon = mon-1;
    t.tm_mday = day;
    mktime(&t);
    return t.tm_wday;
}


    int main(){
        
    int i,j;
    int year, mon, day;
    int dayofweek;
    int local;
    
    
    char s[12];
    printf("Enter a date:");
    fgets(s, 12, stdin);
    
    int cnt=0;
    for(i=0;i<12;i++){
        if(s[i]=='.'){
            cnt++;
        }
    }
    char *c=strtok(s," .\n");
    if (cnt == 2 && c != NULL){ //ДЕНЬ НЕДЕЛИ
        day=atoi(c);
        c=strtok(0," .\n");
        mon=atoi(c);
        c=strtok(0," .\n");
        year=atoi(c);
        dayofweek = DayOfTheWeek(year,mon,day);
        printf("%d", dayofweek);
    }
    if(strcmp(s, "now\n")){ //ТЕКУЩИЕ ДАТА И ВРЕМЯ
    struct tm *local;
    time_t t;
    t = time(NULL);
    local = localtime(&t);
    printf("local time and date: %s", asctime(local));
    }
    if(cnt==1){
        //КАЛЕНДАРЬ ЗА МЕСЯЦ
    }
    
    if(cnt==0){
        //КАЛЕНДАРЬ ЗА ГОД
    }


    return 0;
}  

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

int DayOfTheWeek(int year,int mon,int day){
    struct tm t;
    t.tm_year = year-1900;
    t.tm_mon = mon-1;
    t.tm_mday = day;
    mktime(&t);
    return t.tm_wday;
}


    int main(){
        
    int i,j;
    int year, mon, day;
    int dayofweek;
    int local;
    
    
    char s[12];
    printf("Enter a date (format: DD MM YYYY):");
    fgets(s, 12, stdin);
    
    int cnt=0;
    for(i=0;i<12;i++){
        if(s[i]=='.'){
            cnt++;
        }
    }
    char *c=strtok(s," .\n");
    if (cnt == 2 && c != NULL){
        day=atoi(c);
        c=strtok(0," .\n");
        mon=atoi(c);
        c=strtok(0," .\n");
        year=atoi(c);
        dayofweek = DayOfTheWeek(year,mon,day);
        printf("%d", dayofweek);
    }
    if(strcmp(s, "now\n")){
    struct tm *local;
    time_t now;
    now = time(NULL);
    local = localtime(&now);
    printf("local time and date: %s", asctime(local));
    }


    return 0;
}  
